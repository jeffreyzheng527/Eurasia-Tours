<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¸å›½è£å…‰ï¼šçš‡æœå†å²æ·±åº¦æ¸¸ (16å¤©) - Eurasia Tours</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Noto Sans SC', sans-serif; }
        h1, h2, h3, h4, h5 { font-family: 'Playfair Display', 'Noto Sans SC', serif; }
        .text-brand { color: #b91c1c; }
        .bg-brand { background-color: #b91c1c; }
        .border-brand { border-color: #b91c1c; }
        .hover-border-brand:hover { border-color: #b91c1c; }
        .hover\:bg-brand:hover { background-color: #991b1b; }
        
        .nav-link-spacing { letter-spacing: 0.1em; }

        /* Header Dropdown & Mobile Menu Animations */
        .dropdown-enter-active { transition: all 0.3s ease-out; }
        .dropdown-leave-active { transition: all 0.2s ease-in; }
        .dropdown-enter-from, .dropdown-leave-to { opacity: 0; transform: translateY(12px) scale(0.98); }
        
        .mobile-menu-enter-active, .mobile-menu-leave-active { transition: all 0.3s ease; }
        .mobile-menu-enter-from, .mobile-menu-leave-to { opacity: 0; transform: translateY(-10px); }

        .qr-fade-enter-active, .qr-fade-leave-active { transition: all 0.3s ease-out; }
        .qr-fade-enter-from, .qr-fade-leave-to { opacity: 0; transform: translateY(10px); }
        
        /* è½®æ’­å›¾æ¸å˜ */
        .carousel-enter-active, .carousel-leave-active { transition: opacity 1s ease; }
        .carousel-enter-from, .carousel-leave-to { opacity: 0; }

        /* æ—¶é—´è½´çº¿ */
        .timeline-line {
            position: absolute;
            left: 15px;
            top: 40px;
            bottom: 0;
            width: 2px;
            background-color: #e5e7eb;
        }
        .last-item .timeline-line { display: none; }
        
        /* è¡¨å•é«˜äº®åŠ¨ç”» (ä¿®å¤éƒ¨åˆ†ï¼šæ·»åŠ äº† input-error æ ·å¼) */
        .input-error { 
            border-color: #ef4444 !important; 
            background-color: #fef2f2 !important; 
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
        
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 0 rgba(185, 28, 28, 0); border-color: #e5e7eb; }
            50% { box-shadow: 0 0 20px 0 rgba(185, 28, 28, 0.3); border-color: #b91c1c; background-color: #fff1f2; }
            100% { box-shadow: 0 0 0 0 rgba(185, 28, 28, 0); border-color: #e5e7eb; background-color: white; }
        }
        .highlight-active { animation: highlightPulse 1.5s ease-in-out 2; }
        
        .fade-in { animation: fadeIn 0.8s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡ (å³ä¾§è¡¨å•) */
        .custom-scrollbar {
            scrollbar-width: thin;
            scrollbar-color: #d1d5db transparent;
        }
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #d1d5db; border-radius: 20px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: #9ca3af; }

        [v-cloak] { display: none; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 antialiased">

<div id="app" v-cloak>
    <header class="fixed w-full top-0 z-[100] bg-white/95 backdrop-blur-md shadow-sm border-b border-gray-100">
        <div class="container mx-auto px-4">
            <div class="flex flex-col lg:flex-row items-center justify-between py-2 lg:h-24">
                <div class="flex items-center justify-between w-full lg:w-auto">
                    <a href="index.html" class="flex items-center group">
                        <img src="https://www.eurasia-tours.fr/assets/logo-word-rNz8dsz6.jpg" 
                             alt="Logo" class="h-10 md:h-12 w-auto object-contain transition-transform group-hover:scale-105 mix-blend-multiply">
                    </a>
                    <button class="lg:hidden relative z-50 text-2xl p-2 text-gray-700 focus:outline-none cursor-pointer" @click="isMobileMenuOpen = !isMobileMenuOpen">
                        <i class="fas" :class="isMobileMenuOpen ? 'fa-times' : 'fa-bars'"></i>
                    </button>
                </div>

                <nav class="hidden lg:flex flex-1 items-center justify-around ml-12 max-w-5xl">
                    <div v-for="link in navLinks" :key="link.name" class="relative group py-8"
                         @mouseenter="link.name === 'ç›®çš„åœ°' ? isDestDropdownOpen = true : null"
                         @mouseleave="isDestDropdownOpen = false">
                        <a :href="link.url" 
                           :class="['nav-link-spacing relative py-3 px-2 text-sm xl:text-[15px] font-bold uppercase transition-all flex items-center gap-1', 
                           link.current ? 'text-brand' : 'text-gray-700 hover:text-brand']">
                            {{ link.name }}
                            <i v-if="link.subLinks" class="fas fa-angle-down text-xs transition-transform duration-300" :class="{'rotate-180': link.name === 'ç›®çš„åœ°' && isDestDropdownOpen}"></i>
                            <span :class="['absolute bottom-1 left-0 w-0 h-0.5 bg-brand transition-all duration-300 group-hover:w-full', link.current ? 'w-full' : '']"></span>
                        </a>

                        <transition name="dropdown">
                            <div v-if="link.name === 'ç›®çš„åœ°' && isDestDropdownOpen" 
                                 class="absolute top-full left-1/2 -translate-x-1/2 w-[220px] bg-white shadow-[0_20px_50px_rgba(0,0,0,0.15)] rounded-xl border border-gray-100 p-3 overflow-hidden mt-[-5px]">
                                <div class="px-4 pb-2 mb-2 border-b border-gray-50 text-[10px] uppercase tracking-[0.2em] text-gray-400 font-bold">çƒ­é—¨å›½å®¶</div>
                                <ul class="space-y-1">
                                    <li v-for="sub in link.subLinks" :key="sub.name">
                                        <a :href="sub.url" class="flex items-center gap-3 px-4 py-3 text-base font-medium text-gray-700 hover:bg-red-50 hover:text-brand rounded-lg transition-all group/item border-l-2 border-transparent hover:border-brand">
                                            <i class="fas fa-map-pin text-[10px] text-brand opacity-0 group-hover/item:opacity-100 transition-opacity duration-300"></i>
                                            {{ sub.name }}
                                        </a>
                                    </li>
                                </ul>
                                <div class="mt-3 pt-2 border-t border-gray-50">
                                    <a href="destination main.html" class="flex items-center justify-center gap-2 px-4 py-2 text-[13px] font-bold text-brand hover:underline">æµè§ˆæ‰€æœ‰ç›®çš„åœ° <i class="fas fa-arrow-right text-[10px]"></i></a>
                                </div>
                            </div>
                        </transition>
                    </div>
                </nav>
            </div>
            
            <transition name="mobile-menu">
                <nav v-if="isMobileMenuOpen" class="lg:hidden w-full bg-white border-t border-gray-100 py-6 pb-10 shadow-xl overflow-y-auto max-h-[80vh]">
                    <div class="flex flex-col items-center gap-6">
                        <a v-for="link in navLinks" :key="link.name" :href="link.url"
                           class="text-xl font-bold py-2 uppercase tracking-widest text-gray-800 hover:text-brand transition"
                           @click="isMobileMenuOpen = false">
                           {{ link.name }}
                        </a>
                        <a href="contact.html" class="bg-brand text-white px-10 py-3 rounded-full font-bold shadow-lg mt-4" @click="isMobileMenuOpen = false">ç«‹å³å’¨è¯¢</a>
                    </div>
                </nav>
            </transition>
        </div>
    </header>

    <main class="pt-24 min-h-screen">
        
        <section class="relative h-[60vh] min-h-[500px] w-full overflow-hidden bg-gray-900 group">
            <transition-group name="carousel">
                <div v-for="(img, index) in heroImages" :key="img" 
                     v-show="currentHeroIndex === index"
                     class="absolute inset-0 w-full h-full">
                    <img :src="img" 
                         alt="Hero Background" 
                         class="w-full h-full object-cover opacity-90 transition-transform duration-[5000ms] ease-linear transform scale-105">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"></div>
                </div>
            </transition-group>
            
            <button @click="prevSlide" class="absolute left-4 top-1/2 -translate-y-1/2 z-30 w-12 h-12 rounded-full bg-black/30 hover:bg-brand text-white backdrop-blur-sm flex items-center justify-center transition-all opacity-0 group-hover:opacity-100 border border-white/20">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button @click="nextSlide" class="absolute right-4 top-1/2 -translate-y-1/2 z-30 w-12 h-12 rounded-full bg-black/30 hover:bg-brand text-white backdrop-blur-sm flex items-center justify-center transition-all opacity-0 group-hover:opacity-100 border border-white/20">
                <i class="fas fa-chevron-right"></i>
            </button>

            <div class="absolute bottom-8 right-8 z-30 flex gap-2">
                <button v-for="(img, index) in heroImages" :key="index" 
                        @click="currentHeroIndex = index"
                        :class="['h-1.5 rounded-full transition-all', currentHeroIndex === index ? 'bg-brand w-8' : 'bg-white/50 w-2 hover:bg-white']">
                </button>
            </div>

            <div class="absolute bottom-0 left-0 w-full z-20 pt-20 pb-10">
                <div class="container mx-auto px-4 flex flex-col md:flex-row items-end justify-between gap-6">
                    <div class="text-white max-w-3xl">
                        <div class="flex items-center gap-3 mb-3">
                            <span class="bg-brand text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-widest">æ·±åº¦å†å²</span>
                            <span class="bg-white/20 backdrop-blur text-white text-xs font-bold px-3 py-1 rounded-full"><i class="far fa-clock mr-1"></i> 16å¤© / 13æ™š</span>
                        </div>
                        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold font-serif mb-2 leading-tight">
                            {{ tour.title }}
                        </h1>
                        <p class="text-xl md:text-2xl font-light opacity-90 font-serif italic">{{ tour.engName }}</p>
                    </div>
                    
                    <div class="hidden md:block text-right pb-2">
                        <div class="text-gray-300 text-sm mb-1 font-medium uppercase tracking-widest">åŒäººé—´/äºº èµ·ä»·</div>
                        <div class="flex items-baseline justify-end gap-1 mb-4">
                            <span class="text-2xl font-bold text-brand">â‚¬</span>
                            <span class="text-5xl font-bold text-white shadow-black drop-shadow-lg">2 654</span>
                        </div>
                        <button @click="handleBookingScroll()" class="bg-brand text-white text-lg px-10 py-4 rounded-full font-bold shadow-[0_10px_20px_rgba(185,28,28,0.4)] hover:-translate-y-1 hover:shadow-2xl transition-all flex items-center gap-2">
                            <span>è·å–æŠ¥ä»· / é¢„æŠ¥å</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <div id="sticky-nav" class="sticky top-[80px] lg:top-[96px] z-40 bg-white/95 backdrop-blur shadow-md border-b border-gray-100 transition-all">
            <div class="container mx-auto px-4">
                <div class="flex items-center justify-between overflow-x-auto scrollbar-hide">
                    <ul class="flex items-center gap-6 md:gap-8 h-14 whitespace-nowrap">
                        <li v-for="item in subMenu" :key="item.id">
                            <a :href="'#' + item.id" 
                               class="text-sm font-bold uppercase tracking-wider py-4 border-b-2 border-transparent hover:text-brand hover:border-brand transition-all block"
                               :class="activeSection === item.id ? 'text-brand border-brand' : 'text-gray-500'">
                                {{ item.name }}
                            </a>
                        </li>
                    </ul>
                    <div class="md:hidden pl-4 border-l border-gray-100 ml-4 py-2">
                        <button @click="handleBookingScroll()" class="bg-brand text-white text-xs px-4 py-2 rounded-full font-bold whitespace-nowrap">
                            é¢„æŠ¥å
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="container mx-auto px-4 py-12">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-12">
                
                <div class="lg:col-span-8 space-y-12">
                    
                    <section id="dates" class="scroll-mt-40">
                         <div class="flex items-center gap-3 mb-6">
                            <h2 class="text-3xl font-bold text-gray-800">æ—¥æœŸä¸ä»·æ ¼</h2>
                            <span class="bg-brand text-white text-xs font-bold px-2 py-1 rounded">2026æ—©é¸Ÿä»·</span>
                        </div>
                        
                        <div class="bg-white border border-gray-200 rounded-2xl shadow-lg overflow-hidden">
                            <div class="overflow-x-auto">
                                <table class="w-full text-left">
                                    <thead class="bg-gray-50 border-b border-gray-200">
                                        <tr>
                                            <th class="p-5 font-bold text-gray-600 uppercase text-xs tracking-wider">å‡ºå‘æ—¥æœŸ</th>
                                            <th class="p-5 font-bold text-gray-600 uppercase text-xs tracking-wider">ç»“æŸæ—¥æœŸ</th>
                                            <th class="p-5 font-bold text-brand uppercase text-xs tracking-wider text-right">åŒäººé—´/äºº</th>
                                            <th class="p-5 font-bold text-gray-600 uppercase text-xs tracking-wider text-center">çŠ¶æ€</th>
                                            <th class="p-5"></th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-gray-100">
                                        <tr v-for="date in tour.dates" :key="date.start" class="hover:bg-red-50/30 transition-colors group">
                                            <td class="p-5 font-medium text-gray-800">{{ date.start }}</td>
                                            <td class="p-5 text-gray-600">{{ date.end }}</td>
                                            <td class="p-5 text-right">
                                                <div class="text-lg font-bold text-brand">{{ date.price }}</div>
                                            </td>
                                            <td class="p-5 text-center">
                                                <span v-if="date.guaranteed" class="inline-flex items-center gap-1 bg-green-100 text-green-700 text-xs px-2 py-1 rounded-full font-bold">
                                                    <i class="fas fa-check-circle"></i> æˆå›¢
                                                </span>
                                                <span v-else class="text-xs text-gray-400">æ¥å—é¢„è®¢</span>
                                            </td>
                                            <td class="p-5 text-right">
                                                <button @click="handleBookingScroll(date.start)" class="bg-gray-800 text-white text-xs px-4 py-2 rounded-full font-bold group-hover:bg-brand transition-colors">
                                                    é¢„è®¢
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="bg-gray-50 p-4 text-xs text-gray-500 border-t border-gray-200 flex flex-col md:flex-row justify-between items-center gap-2">
                                <span><i class="fas fa-info-circle mr-1"></i> å•äººæˆ¿å·®ï¼š{{ tour.singleSupplement }}</span>
                                <span>* 10äººä»¥ä¸Šä¿è¯æˆå›¢ï¼Œæ¯å›¢é™20äºº</span>
                            </div>
                        </div>
                    </section>

                    <section id="overview" class="scroll-mt-40 pt-8 border-t border-gray-100">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3">
                            çº¿è·¯äº®ç‚¹
                        </h2>
                        <div class="prose prose-lg text-gray-600 mb-8">
                            <p class="italic text-gray-500 mb-6 border-l-4 border-brand pl-4">
                                "è¿™æ˜¯ä¸€æ¬¡ä¸å¯é”™è¿‡çš„ä¸­å›½ä¹‹æ—…ï¼Œä»é­”éƒ½ä¸Šæµ·åˆ°å¸éƒ½åŒ—äº¬ï¼Œé€”ç»è¥¿å®‰ä¸æ¡‚æ—ï¼Œå®Œç¾èåˆäº†ç°ä»£ç¹åä¸çš‡æœé—éŸµã€‚"
                            </p>
                            <p class="text-sm">
                                æ‚¨å°†æ¼«æ­¥åœ¨ä¸Šæµ·çš„å¤–æ»©ï¼Œä½“éªŒè‹å·çš„å›­æ—ä¹‹ç¾ï¼›åœ¨æ¡‚æ—æ¼“æ±Ÿçš„ç”»å·ä¸­èˆªè¡Œï¼Œæ·±å…¥é¾™è„Šæ¢¯ç”°æ¢è®¿å£®æ—ä¸ä¾—æ—çš„æ‘è½ã€‚å½“ç„¶ï¼Œè¿˜æœ‰é‚£äº›éœ‡æ’¼ä¸–ç•Œçš„UNESCOä¸–ç•Œé—äº§ï¼šç§¦å§‹çš‡å…µé©¬ä¿‘ã€å¹³é¥å¤åŸã€äº‘å†ˆçŸ³çªŸä»¥åŠä¸‡é‡Œé•¿åŸã€‚
                            </p>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div v-for="(highlight, index) in tour.highlights" :key="index" class="bg-red-50 p-4 rounded-xl flex items-start gap-3 border border-transparent hover:border-red-100 transition-colors">
                                <div class="w-8 h-8 rounded-full bg-white text-brand flex items-center justify-center flex-shrink-0 shadow-sm mt-1">
                                    <i class="fas fa-check text-sm"></i>
                                </div>
                                <span class="font-medium text-gray-800">{{ highlight }}</span>
                            </div>
                        </div>
                    </section>

                    <section id="itinerary" class="scroll-mt-40">
                        <div class="flex items-center justify-between mb-8">
                            <h2 class="text-3xl font-bold text-gray-800">è¯¦ç»†è¡Œç¨‹</h2>
                            <button @click="toggleAllDays" class="text-brand text-sm font-bold hover:underline px-3 py-1 rounded hover:bg-red-50 transition">
                                {{ isAllExpanded ? 'æ”¶èµ·å…¨éƒ¨' : 'å±•å¼€å…¨éƒ¨' }}
                            </button>
                        </div>

                        <div class="relative space-y-8">
                            <div v-for="(day, index) in tour.daysData" :key="index" 
                                 class="relative pl-10 group" :class="{'last-item': index === tour.daysData.length - 1}">
                                
                                <div class="timeline-line"></div>
                                
                                <div class="absolute left-0 top-0 w-8 h-8 bg-brand text-white rounded-full flex items-center justify-center font-bold text-sm shadow-md z-10">
                                    {{ day.day }}
                                </div>

                                <div class="bg-white border border-gray-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow">
                                    <div class="flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4 cursor-pointer select-none" 
                                         @click="toggleDay(index)">
                                        <div>
                                            <div class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-1">
                                                {{ day.transport }}
                                            </div>
                                            <h3 class="text-xl font-bold text-gray-800 group-hover:text-brand transition-colors">
                                                {{ day.title }}
                                            </h3>
                                        </div>
                                        <i class="fas fa-chevron-down text-gray-300 transition-transform duration-300" 
                                           :class="{'rotate-180': day.isOpen}"></i>
                                    </div>

                                    <div v-show="day.isOpen" class="space-y-4 text-gray-600 leading-relaxed border-t border-gray-50 pt-4">
                                        <div v-html="day.content"></div>
                                        
                                        <div class="mt-4 rounded-xl overflow-hidden h-48 md:h-64 w-full relative bg-gray-100 flex items-center justify-center group/img">
                                            <img :src="day.image" class="w-full h-full object-cover transition-transform duration-700 group-hover/img:scale-105" alt="Day Image">
                                        </div>
                                        
                                        <div class="flex flex-wrap gap-2 mt-4">
                                            <div v-if="day.hotel" class="flex items-center gap-2 text-xs text-gray-500 bg-gray-50 px-3 py-2 rounded-lg">
                                                <i class="fas fa-bed text-brand"></i>
                                                <span class="font-bold">ä½å®¿ï¼š</span> {{ day.hotel }}
                                            </div>
                                            <div v-if="day.meals" class="flex items-center gap-2 text-xs text-gray-500 bg-gray-50 px-3 py-2 rounded-lg">
                                                <i class="fas fa-utensils text-brand"></i>
                                                <span class="font-bold">é¤é¥®ï¼š</span> {{ day.meals }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <section id="accommodation" class="scroll-mt-40 bg-gray-50 rounded-2xl p-8 border border-gray-100">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6">ç²¾é€‰é…’åº—</h2>
                        <ul class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <li v-for="hotel in tour.hotelList" :key="hotel.city" class="bg-white p-4 rounded-lg shadow-sm flex items-center gap-3">
                                <div class="w-10 h-10 rounded-full bg-brand/10 flex items-center justify-center text-brand font-bold text-xs uppercase">
                                    {{ hotel.city.substring(0,2) }}
                                </div>
                                <div>
                                    <div class="font-bold text-gray-800">{{ hotel.city }}</div>
                                    <div class="text-sm text-gray-500">{{ hotel.name }}</div>
                                </div>
                            </li>
                        </ul>
                    </section>

                    <section id="includes" class="scroll-mt-40 grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="bg-green-50/50 p-6 rounded-2xl border border-green-100">
                            <h3 class="font-bold text-green-800 mb-4 flex items-center gap-2">
                                <i class="fas fa-check-circle"></i> ä»·æ ¼åŒ…å«
                            </h3>
                            <ul class="space-y-3">
                                <li v-for="(item, i) in tour.includes" :key="i" class="flex items-start gap-3 text-sm text-gray-700">
                                    <span class="w-1.5 h-1.5 bg-green-500 rounded-full mt-1.5 flex-shrink-0"></span>
                                    <span>{{ item }}</span>
                                </li>
                            </ul>
                        </div>
                        <div class="bg-red-50/50 p-6 rounded-2xl border border-red-100">
                            <h3 class="font-bold text-red-800 mb-4 flex items-center gap-2">
                                <i class="fas fa-times-circle"></i> ä»·æ ¼ä¸å«
                            </h3>
                            <ul class="space-y-3">
                                <li v-for="(item, i) in tour.excludes" :key="i" class="flex items-start gap-3 text-sm text-gray-700">
                                    <span class="w-1.5 h-1.5 bg-red-400 rounded-full mt-1.5 flex-shrink-0"></span>
                                    <span>{{ item }}</span>
                                </li>
                            </ul>
                        </div>
                    </section>
                </div>

                <div class="lg:col-span-4 relative">
                    <div class="sticky top-28 max-h-[calc(100vh-130px)] overflow-y-auto custom-scrollbar pr-2 pb-4">
                        <div id="contact" 
                             :class="['bg-white rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.1)] border p-5 relative overflow-hidden transition-all duration-300', formHighlight ? 'highlight-active border-brand' : 'border-gray-100']">
                            
                            <div class="absolute top-0 left-0 w-full h-2 bg-brand"></div>
                            
                            <div v-if="isSubmitted" class="py-10 text-center fade-in">
                                <div class="w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-3xl mx-auto mb-4 animate-bounce">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <h3 class="text-xl font-bold text-gray-800 mb-3">æ„å‘å‘é€æˆåŠŸï¼</h3>
                                <p class="text-xs text-gray-600 mb-6 leading-relaxed">
                                    æˆ‘ä»¬å°†åœ¨ <span class="text-brand font-bold underline">24å°æ—¶å†…</span> è”ç³»æ‚¨ã€‚
                                </p>
                                <button @click="resetForm" class="text-brand font-bold text-xs hover:underline flex items-center gap-2 mx-auto">
                                    <i class="fas fa-redo-alt text-[10px]"></i> å¡«å†™æ–°éœ€æ±‚
                                </button>
                            </div>

                            <form v-else class="space-y-3" @submit.prevent="handleFormSubmit" novalidate>
                                <div>
                                    <h3 class="text-xl font-bold font-serif mb-1">å¼€å§‹æ‚¨çš„æ¢ç´¢</h3>
                                    <p class="text-xs text-gray-400">å¡«å†™è¡¨å•ï¼Œé¡¾é—®å°†åœ¨24å°æ—¶å†…è”ç³»æ‚¨ã€‚</p>
                                </div>

                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-[10px] font-bold text-gray-500 mb-1 ml-1 uppercase">å§“å *</label>
                                        <input type="text" v-model="formData.name" required placeholder="æ‚¨çš„å§“å"
                                               :class="{'input-error': attemptedSubmit && !formData.name}"
                                               class="w-full bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-brand transition outline-none">
                                    </div>
                                    <div>
                                        <label class="block text-[10px] font-bold text-gray-500 mb-1 ml-1 uppercase">å‡ºè¡Œäººæ•° *</label>
                                        <input type="number" v-model.number="formData.passengers" min="1" required
                                               :class="{'input-error': attemptedSubmit && !formData.passengers}"
                                               class="w-full bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-brand transition outline-none">
                                    </div>
                                </div>

                                <div>
                                    <label class="block text-[10px] font-bold text-gray-500 mb-1 ml-1 uppercase">è”ç³»ç”µè¯ *</label>
                                    <div class="flex gap-2">
                                        <div class="relative w-24 shrink-0">
                                            <select v-model="formData.countryCode" class="w-full pl-2 pr-5 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:border-brand transition text-xs appearance-none h-full">
                                                <option value="+33">ğŸ‡«ğŸ‡· +33</option>
                                                <option value="+86">ğŸ‡¨ğŸ‡³ +86</option>
                                                <option value="+852">ğŸ‡­ğŸ‡° +852</option>
                                                <option value="+44">ğŸ‡¬ğŸ‡§ +44</option>
                                                <option value="+1">ğŸ‡ºğŸ‡¸ +1</option>
                                            </select>
                                            <i class="fas fa-chevron-down absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none text-[10px]"></i>
                                        </div>
                                        <input type="tel" v-model="formData.phone" required placeholder="å·ç "
                                               :class="{'input-error': attemptedSubmit && (phoneError || !formData.phone)}"
                                               class="flex-1 w-full bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-brand transition outline-none">
                                    </div>
                                    <p v-if="attemptedSubmit && phoneError" class="text-red-600 text-[10px] ml-1 mt-1">{{ phoneError }}</p>
                                </div>

                                <div>
                                    <label class="block text-[10px] font-bold text-gray-500 mb-1 ml-1 uppercase">ç”µå­é‚®ç®± *</label>
                                    <input type="email" v-model="formData.email" required placeholder="example@email.com"
                                           :class="{'input-error': attemptedSubmit && !formData.email}"
                                           class="w-full bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-brand transition outline-none">
                                </div>

                                <div>
                                    <label class="block text-[10px] font-bold text-gray-500 mb-1 ml-1 uppercase">æ„å‘æ—¥æœŸ *</label>
                                    <div class="relative">
                                        <select v-model="formData.date" required 
                                                :class="{'input-error': attemptedSubmit && !formData.date}"
                                                class="w-full bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:border-brand transition text-gray-700 font-medium appearance-none text-sm">
                                            <option value="" disabled>è¯·é€‰æ‹©æ—¥æœŸ</option>
                                            <option v-for="date in tour.dates" :key="date.start" :value="date.start">{{ date.start }} ({{ date.price }})</option>
                                            <option value="other">å…¶ä»–æ—¥æœŸ / å¾…å®š</option>
                                        </select>
                                        <i class="fas fa-chevron-down absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none text-xs"></i>
                                    </div>
                                </div>

                                <div v-if="calculatedPrice > 0" class="bg-red-50 p-3 rounded-lg border border-red-100 flex justify-between items-center">
                                    <div class="flex flex-col">
                                        <span class="text-[10px] text-red-600 font-bold uppercase">é¢„ä¼°æ€»ä»·</span>
                                        <div class="flex flex-col">
                                            <span v-if="hasSingleSupplement" class="text-[9px] text-red-400 leading-tight">
                                                å«å•äººæˆ¿å·® {{ tour.singleSupplement }}
                                            </span>
                                        </div>
                                    </div>
                                    <span class="text-lg font-bold text-brand">{{ calculatedPrice.toLocaleString() }} â‚¬</span>
                                </div>

                                <div>
                                    <label class="block text-[10px] font-bold text-gray-500 mb-1 ml-1 uppercase">å¤‡æ³¨éœ€æ±‚</label>
                                    <textarea v-model="formData.remarks" class="w-full bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-brand transition h-16 outline-none resize-none" placeholder="ç‰¹æ®Šé¥®é£Ÿã€èˆªç­è¦æ±‚ç­‰..."></textarea>
                                </div>

                                <button class="w-full bg-brand text-white font-bold py-3 rounded-lg hover:bg-[#991b1b] transition shadow-lg flex items-center justify-center gap-2 transform active:scale-95 text-sm">
                                    æäº¤é¢„æŠ¥å <i class="fas fa-paper-plane"></i>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <footer class="bg-gray-900 text-gray-400 pt-20 pb-10 border-t-8 border-brand">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-16 mb-20">
                <div class="space-y-6">
                    <img src="https://www.eurasia-tours.fr/assets/logo-word-rNz8dsz6.jpg" 
                         alt="Logo" class="h-10 w-auto object-contain opacity-90 mix-blend-screen">
                    <p class="text-sm leading-relaxed">è‡ª2000å¹´èµ·ï¼Œæ¬§ç¾äºšæ—…æ¸¸è‡´åŠ›ä¸ºå…¨çƒæ—…å®¢æä¾›æœ€çº¯æ­£çš„äºšæ´²æ·±åº¦æ—…è¡Œä½“éªŒã€‚æˆ‘ä»¬ä¸ä»…æ˜¯æ—…è¡Œç¤¾ï¼Œæ›´æ˜¯æ‚¨æ¢ç´¢ä¸œæ–¹çš„æ–‡åŒ–å‘å¯¼ã€‚</p>
                </div>
                <div>
                    <h4 class="text-white font-bold text-lg mb-8 flex items-center gap-3"><span class="w-1 h-5 bg-brand"></span> èµ„è´¨ä¿éšœ</h4>
                    <ul class="space-y-4 text-sm text-gray-400">
                        <li class="flex items-center gap-3"><i class="fas fa-check-circle text-brand"></i> APST æ³•å›½æ—…æ¸¸ä¿éšœåä¼šæˆå‘˜</li>
                        <li class="flex items-center gap-3"><i class="fas fa-check-circle text-brand"></i> IATA å›½é™…èˆªç©ºè¿è¾“åä¼šè®¤è¯</li>
                        <li class="flex items-center gap-3"><i class="fas fa-shield-alt text-brand"></i> åŒ…å« RCP ä¸“ä¸šå•†ä¸šè´£ä»»é™©</li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-bold text-lg mb-8 flex items-center gap-3"><span class="w-1 h-5 bg-brand"></span> è”ç³»æˆ‘ä»¬</h4>
                    <ul class="space-y-4 text-sm text-gray-400">
                        <li class="flex items-start gap-3"><i class="fas fa-map-marker-alt text-brand mt-1"></i> 30 Rue Ernest Renan, 75015 Paris</li>
                        <li class="flex items-center gap-3"><i class="fas fa-phone-alt text-brand"></i> 01 56 69 12 80</li>
                        <li class="flex items-center gap-3"><i class="fas fa-envelope text-brand"></i> contact@eurasiatours.fr</li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-bold text-lg mb-8 flex items-center gap-3"><span class="w-1 h-5 bg-brand"></span> å…³æ³¨ & æ”¯ä»˜</h4>
                    <div class="flex gap-4 mb-8">
                        <div class="relative group" @mouseenter="isWechatQR = true" @mouseleave="isWechatQR = false">
                            <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-[#07C160] transition">
                                <i class="fab fa-weixin text-white"></i>
                            </a>
                            <transition name="qr-fade">
                                <div v-if="isWechatQR" class="absolute bottom-12 left-1/2 -translate-x-1/2 bg-white p-2 rounded-lg shadow-2xl z-50 w-32 border border-gray-100">
                                    <img src="https://www.eurasia-tours.fr/assets/wechat-account-VZcww6ek.jpg" alt="WeChat QR" class="w-full h-auto">
                                    <p class="text-[10px] text-gray-500 text-center mt-1 font-sans">æ‰«ç å…³æ³¨å¾®ä¿¡</p>
                                </div>
                            </transition>
                        </div>
                        <div class="relative group" @mouseenter="isFacebookQR = true" @mouseleave="isFacebookQR = false">
                            <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-[#1877F2] transition">
                                <i class="fab fa-facebook-f text-white"></i>
                            </a>
                            <transition name="qr-fade">
                                <div v-if="isFacebookQR" class="absolute bottom-12 left-1/2 -translate-x-1/2 bg-white p-2 rounded-lg shadow-2xl z-50 w-32 border border-gray-100">
                                    <img src="https://www.eurasia-tours.fr/assets/3-Bjf7LFHD.png" alt="Facebook QR" class="w-full h-auto">
                                    <p class="text-[10px] text-gray-500 text-center mt-1 font-sans">å…³æ³¨æˆ‘ä»¬çš„Facebook</p>
                                </div>
                            </transition>
                        </div>
                    </div>
                    <div class="flex gap-4 text-3xl opacity-30">
                        <i class="fab fa-cc-visa"></i><i class="fab fa-cc-mastercard"></i><i class="fab fa-cc-amex"></i>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 pt-10 text-center text-xs tracking-widest uppercase">
                Â© 2026 EURASIA TOURS æ¬§ç¾äºšæ—…æ¸¸ Â· ç‰ˆæƒæ‰€æœ‰
            </div>
        </div>
    </footer>
</div>

<script>
    const { createApp, ref, reactive, computed, nextTick, onMounted } = Vue;

    createApp({
        setup() {
            // Header Logic
            const isMobileMenuOpen = ref(false);
            const isDestDropdownOpen = ref(false);
            const isWechatQR = ref(false);
            const isFacebookQR = ref(false);
            
            const navLinks = [
                { name: 'é¦–é¡µ', url: 'index.html', current: false },
                { 
                    name: 'ç›®çš„åœ°', 
                    url: 'destination main.html', 
                    current: true, // China Page is Current
                    subLinks: [
                        { name: 'ä¸­å›½', url: 'destination china.html' },
                        { name: 'æ—¥æœ¬', url: 'destination japan.html' },
                        { name: 'å¾·å›½', url: 'destination product germany.html' },
                        { name: 'ç‘å£«', url: 'destination product germany.html' }
                    ] 
                },
                { name: 'å®šåˆ¶æ—…è¡Œ', url: 'custom.html' },
                { name: 'æœºç¥¨æœåŠ¡', url: 'tickets.html' },
                { name: 'å…³äºæˆ‘ä»¬', url: 'about.html' },
                { name: 'è”ç³»æˆ‘ä»¬', url: 'contact.html' },
                { name: 'åšå®¢', url: 'blog.html' }
            ];

            // Page Logic
            const activeSection = ref('dates');
            const subMenu = [
                { name: 'æ—¥æœŸä¸ä»·æ ¼', id: 'dates' },
                { name: 'çº¿è·¯ä»‹ç»', id: 'overview' },
                { name: 'è¯¦ç»†è¡Œç¨‹', id: 'itinerary' },
                { name: 'ä½å®¿', id: 'accommodation' },
                { name: 'åŒ…å«/ä¸å«', id: 'includes' },
            ];
            
            // Carousel Logic
            const currentHeroIndex = ref(0);
            const convertDriveLink = (url) => {
                if(url.includes('drive.google.com/file/d/')) {
                    const id = url.split('/d/')[1].split('/')[0];
                    return `https://lh3.googleusercontent.com/d/${id}=w2000`;
                }
                return url;
            };
            const heroImages = [
                'https://drive.google.com/file/d/188yPCEXG8i_LqQdI3dsceqO1dUGvodhv/view',
                'https://drive.google.com/file/d/1GsGK78SRN5pDEhAO8xC-PzWBfVGiTiUM/view',
                'https://drive.google.com/file/d/1pzEiQ3QGQihU6jTZLvD8Dpu6EPdOVgZZ/view',
                'https://drive.google.com/file/d/1VZwrPmiww_P8ZZiWZhyKbQMqTYwYXNg0/view',
                'https://drive.google.com/file/d/1jyWLV1Gn6SJY6ng6YgMdgOzQXf3Jj4mk/view',
                'https://drive.google.com/file/d/1u9boq8pJwHlHXgiGWc6ZYjhcz5JpZcnI/view'
            ].map(convertDriveLink);

            const nextSlide = () => {
                currentHeroIndex.value = (currentHeroIndex.value + 1) % heroImages.length;
            };
            const prevSlide = () => {
                currentHeroIndex.value = (currentHeroIndex.value - 1 + heroImages.length) % heroImages.length;
            };

            // Booking Logic
            const selectedDate = ref('');
            const formHighlight = ref(false);
            const isSubmitted = ref(false);
            const attemptedSubmit = ref(false);

            const formData = reactive({
                name: '',
                countryCode: '+33',
                phone: '',
                email: '',
                date: '',
                passengers: 2,
                remarks: ''
            });

            const phoneError = computed(() => {
                if (!formData.phone) return null;
                const lengths = { '+33': 10, '+86': 11, '+852': 8, '+44': 10, '+1': 10 };
                const required = lengths[formData.countryCode] || 10;
                return formData.phone.length !== required ? `å·ç åº”ä¸º ${required} ä½æ•°å­—` : null;
            });

            // Data Logic - ä¿®å¤Bug: ç¡®ä¿æ¯ä¸€å¤©éƒ½åŒ…å« hotel å’Œ meals å­—æ®µ
            const tour = reactive({
                title: 'å¸å›½è£å…‰ï¼šçš‡æœå†å²æ·±åº¦æ¸¸',
                engName: 'Chine ImpÃ©riale - 16 Jours / 13 Nuits',
                highlights: [
                    'æ¼“æ±Ÿå±±æ°´æ¸¸èˆ¹', 
                    'å£®æ—ä¸ä¾—æ—å°‘æ•°æ°‘æ—æ‘è½', 
                    'UNESCOé—äº§ï¼šç§¦å§‹çš‡å…µé©¬ä¿‘', 
                    'UNESCOé—äº§ï¼šåŒ—äº¬æ•…å®«ç´«ç¦åŸ', 
                    'UNESCOé—äº§ï¼šä¸‡é‡Œé•¿åŸ', 
                    'è‹å·å›­æ—ä¸æ°´ä¹¡é£æƒ…', 
                    'å¹³é¥å¤åŸä¸äº‘å†ˆçŸ³çªŸ', 
                    'é¾™è„Šæ¢¯ç”°ä¸é£é›¨æ¡¥'
                ],
                singleSupplement: '350 â‚¬',
                
                dates: [
                    { start: '16/05/2026', end: '31/05/2026', price: '2 654 â‚¬', guaranteed: true },
                    { start: '29/08/2026', end: '13/09/2026', price: '2 840 â‚¬', guaranteed: true },
                    { start: '06/11/2026', end: '21/11/2026', price: '2 790 â‚¬', guaranteed: false }
                ],
                hotelList: [
                    { city: 'ä¸Šæµ· (Shanghai)', name: 'Shanghai Pagoda Baixia Hotel 4*' },
                    { city: 'æ¡‚æ— (Guilin)', name: 'Chengqi Hotel 4*' },
                    { city: 'é˜³æœ” (Yangshuo)', name: 'New West Street Renzen Hotel 4*' },
                    { city: 'é¾™èƒœ (Longsheng)', name: 'Weila Hotel (å½“åœ°ç‰¹è‰²3*)' },
                    { city: 'ä¸‰æ±Ÿ (Sanjiang)', name: 'Ban Wu Yue Shan Hotel (å½“åœ°ç‰¹è‰²3*)' },
                    { city: 'è¥¿å®‰ (Xiâ€™an)', name: 'Empress Hotel 4*' },
                    { city: 'å¹³é¥ (Pingyao)', name: 'Pingyao Hotel (å¤åŸå®¢æ ˆ)' },
                    { city: 'å¤§åŒ (Datong)', name: 'Grand Hotel 4*' },
                    { city: 'åŒ—äº¬ (PÃ©kin)', name: 'Beijing Guantong Jianhui Hotel 4*' }
                ],
                includes: [
                    'å›½é™…ä¸å†…é™†æ®µå®šæœŸèˆªç­ç»æµèˆ±',
                    'æœºç¥¨ç¨è´¹ä¸ç‡ƒæ²¹é™„åŠ è´¹ (415â‚¬, 2025å¹´3æœˆ1æ—¥æ ¸å‡†)',
                    'è¥¿å®‰-å¹³é¥-å¤§åŒ-åŒ—äº¬æ®µé«˜é“äºŒç­‰åº§',
                    'å…¨ç¨‹ç©ºè°ƒæ—…æ¸¸å·´å£«',
                    'åŒäººæ ‡å‡†é—´ä½å®¿ï¼ˆ4æ˜Ÿçº§æˆ–ç‰¹è‰²ç²¾å“é…’åº—ï¼‰ï¼Œå«æ—©é¤',
                    'å…¨ç¨‹å¼é¤é¥®ï¼ˆæ¯äººæ¯é¤å«ä¸€æ¯é¥®æ–™ï¼šæ°´ã€å•¤é…’ã€æ±½æ°´æˆ–èŒ¶ï¼‰',
                    'è¡Œç¨‹æ‰€åˆ—æ‰€æœ‰æ™¯ç‚¹é—¨ç¥¨ä¸æ¸¸è§ˆ',
                    'å…¨ç¨‹ä¼˜ç§€æ³•è¯­å¯¼æ¸¸æœåŠ¡',
                    'ä¸‰åœºç‰¹è‰²æ¼”å‡ºï¼šåŒ—äº¬åŠŸå¤«ã€è¥¿å®‰å”æ­Œèˆã€ç¨‹é˜³ä¾—æ—æ­Œèˆ',
                    'ä¸¤é¡¿ç‰¹è‰²é£å‘³é¤ï¼šè¥¿å®‰é¥ºå­å®´ã€åŒ—äº¬çƒ¤é¸­',
                    'æ—…æ¸¸ä¿é™©ï¼šæ´åŠ©ã€åŒ»ç–—è´¹ç”¨åŠç´§æ€¥ä½é™¢'
                ],
                excludes: [
                    'ç­¾è¯è´¹ç”¨ï¼ˆ2026å¹´æ³•å›½æŠ¤ç…§çŸ­æœŸåœç•™å…ç­¾ï¼‰',
                    'å–æ¶ˆä¿é™©ï¼ˆå›¢è´¹æ€»é¢çš„3.4%ï¼‰',
                    'å•äººæˆ¿å·®ä»·',
                    'å¸å¯¼æƒ¯ä¾‹å°è´¹',
                    'ä¸ªäººæ¶ˆè´¹'
                ],

                // è¡Œç¨‹å†…å®¹ - ä¿®å¤é‡ç‚¹: è¡¥å…… hotel å’Œ meals å­—æ®µ
                daysData: [
                    { 
                        day: 1, 
                        title: 'å·´é» âœˆï¸ ä¸Šæµ·', 
                        transport: 'é£æœº', 
                        content: 'ä»å·´é»å‡ºå‘ï¼Œæ­ä¹˜å®šæœŸèˆªç­é£å¾€ä¸Šæµ·ï¼ˆç»åœåŒ—äº¬ï¼‰ã€‚å¤œå®¿é£æœºä¸Šã€‚', 
                        image: 'https://p0.itc.cn/images01/20220322/830e499e5fa44c47a9f9a2de66a702b8.jpeg', 
                        hotel: 'é£æœºä¸Š', 
                        meals: 'è‡ªç†',
                        isOpen: true 
                    },
                    { 
                        day: 2, 
                        title: 'æŠµè¾¾ä¸Šæµ·', 
                        transport: 'å·´å£«', 
                        content: 'æŠµè¾¾ä¸Šæµ·ï¼Œäº«ç”¨æ™šé¤ã€‚éšåå…¥ä½é…’åº—ä¼‘æ¯ã€‚', 
                        // Updated Image
                        image: 'https://studycli.org/wp-content/uploads/2021/12/the-bund-article-011.jpg.webp', 
                        hotel: 'Shanghai Pagoda Baixia Hotel 4*',
                        meals: 'æ™šé¤',
                        isOpen: false 
                    },
                    { 
                        day: 3, 
                        title: 'ä¸Šæµ· ğŸšŒ è‹å·', 
                        transport: 'å·´å£«', 
                        content: 'å‰å¾€â€œä¸œæ–¹å¨å°¼æ–¯â€è‹å·ï¼Œè¿™é‡Œçš„å›­æ—è¢«åˆ—ä¸ºUNESCOä¸–ç•Œé—äº§ã€‚æ¸¸è§ˆç›˜é—¨æ™¯åŒºï¼ˆ1351å¹´æ®‹å­˜å¤åŸé—¨ï¼‰ï¼Œå‚è§‚å…¸å‹çš„ä¸­å›½å›­æ—â€œç½‘å¸ˆå›­â€ï¼Œå¹¶åœ¨å¹³æ±Ÿè·¯å†å²è¡—åŒºæ¼«æ­¥ã€‚', 
                        image: 'https://www.ourchinastory.com/images/cover/snapshot/2023/08/horizontal/Ourchinastory-suzhou-garden_x1.jpg', 
                        hotel: 'å½“åœ°å››æ˜Ÿçº§é…’åº—', 
                        meals: 'æ—©/åˆ/æ™š',
                        isOpen: false 
                    },
                    { 
                        day: 4, 
                        title: 'è‹å· ğŸšŒ ä¸Šæµ· âœˆï¸ æ¡‚æ—', 
                        transport: 'å·´å£«/é£æœº', 
                        content: 'è¿”å›ä¸Šæµ·ã€‚æ¼«æ­¥å—äº¬è·¯å•†ä¸šè¡—ï¼Œåœ¨ä¸Šæµ·å¤–æ»©æ¬£èµé»„æµ¦æ±Ÿä¸¤å²¸çš„ä¸‡å›½å»ºç­‘åšè§ˆç¾¤ã€‚æ¸¸è§ˆä»¥äº­å°æ¥¼é˜è‘—ç§°çš„è±«å›­ï¼Œå¹¶æ¢ç´¢åŸéšåº™è€è¡—ã€‚å‚è§‚ä¸ç»¸å·¥å‚ï¼Œäº†è§£ä¸ç»¸å†å²ä¸åˆ¶ä½œè¿‡ç¨‹ã€‚éšåé£å¾€æ¡‚æ—ï¼Œæ™šé¤äºæœºä¸Šã€‚', 
                        image: 'https://www.ourchinastory.com/images/cover/snapshot/2021/01/normal/%E7%95%B6%E4%BB%A3%E4%B8%AD%E5%9C%8B-%E4%B8%AD%E5%9C%8B%E6%97%85%E9%81%8A-%E4%B8%AD%E5%9C%8B%E6%96%87%E5%8C%96-%E4%B8%8A%E6%B5%B7-%E5%A4%96%E7%81%98_x1.jpg', 
                        hotel: 'Chengqi Hotel 4*',
                        meals: 'æ—©/åˆ/æ™š',
                        isOpen: false 
                    },
                    { 
                        day: 5, 
                        title: 'æ¡‚æ— ğŸ›¥ é˜³æœ”', 
                        transport: 'æ¸¸èˆ¹', 
                        content: 'ä¹˜åæ¸¸èˆ¹æ¸¸è§ˆæ¼“æ±Ÿï¼Œæ¬£èµå£®ä¸½çš„å–€æ–¯ç‰¹å±±æ°´ç”»å·ã€ç¨»ç”°ä¸é¸¬é¹šæ•é±¼ã€‚èˆ¹ä¸Šäº«ç”¨åˆé¤ã€‚æŠµè¾¾é˜³æœ”åï¼Œæ¸¸è§ˆå½“åœ°å¸‚åœºå¹¶è‡ªç”±æ¼«æ­¥ã€‚', 
                        image: 'https://i2.kknews.cc/A2n6TB6B7bc35DhfrLYjBZbUojr1G1YFTWGVMQw/0.jpg', 
                        hotel: 'New West Street Renzen Hotel 4*', 
                        meals: 'æ—©/åˆ/æ™š',
                        isOpen: false
                    },
                    { 
                        day: 6, 
                        title: 'é˜³æœ” ğŸšŒ å¹³å®‰å¯¨ (é¾™è„Š)', 
                        transport: 'å·´å£«', 
                        content: 'å‰å¾€é¾™è„Šå±±åŒºçš„å£®æ—æ‘å¯¨â€”â€”å¹³å®‰å¯¨ã€‚æ¼«æ­¥æ‘è½å¹¶å¾’æ­¥æ¬£èµå£®è§‚çš„æ¢¯ç”°é£å…‰ã€‚é€”ä¸­å‚è§‚ç»¿èŒ¶èŒ¶å›­ã€‚', 
                        image: 'https://nimg.guilinlife.com/mmbiz/dCX5a7bR5nXwilifKYnxJZSWWOlAbbCppgeua_SwCDGenoBCOlPhUhdL2rOP_j_iEnT2jLl96Vr_f4dIMfIWzVE1qoF7Sew1UPD8dYMIA8wrLVmIqBE3tR9nCymIOcVIkHoeMudTh1OKsyLD2lHQQA%3D%3D/media', 
                        hotel: 'Weila Hotel (å½“åœ°ç‰¹è‰²3*)',
                        meals: 'æ—©/åˆ/æ™š',
                        isOpen: false 
                    },
                    { 
                        day: 7, 
                        title: 'å¹³å®‰å¯¨ ğŸšŒ ç¨‹é˜³å…«å¯¨ (ä¾—å¯¨)', 
                        transport: 'å·´å£«', 
                        content: 'å‰å¾€é£æ™¯å¦‚ç”»çš„ä¾—æ—æ‘è½â€”â€”ç¨‹é˜³å…«å¯¨ã€‚æ¬£èµè¯¥åœ°åŒºæœ€ç¾çš„é£é›¨æ¡¥ï¼Œå¹¶è§‚çœ‹ä¾—æ—ä¼ ç»Ÿæ­Œèˆè¡¨æ¼”ã€‚', 
                        image: 'https://p1.ifengimg.com/fck/2017_38/a69d9e6e2675e81_w600_h400.jpg', 
                        hotel: 'Ban Wu Yue Shan Hotel (å½“åœ°ç‰¹è‰²3*)',
                        meals: 'æ—©/åˆ/æ™š',
                        isOpen: false 
                    },
                    { 
                        day: 8, 
                        title: 'ç¨‹é˜³ ğŸšŒ æ¡‚æ— âœˆï¸ è¥¿å®‰', 
                        transport: 'å·´å£«/é£æœº', 
                        content: 'ä¸Šåˆè‡ªç”±æ´»åŠ¨ï¼Œæ·±å…¥æ¢ç´¢æ‘å¯¨ã€‚éšåé€å¾€æ¡‚æ—æœºåœºï¼Œé£å¾€åƒå¹´å¤éƒ½è¥¿å®‰ã€‚', 
                        image: 'https://cdn.tff.bz/public/wt/d6/e1/20230720013909971914306.jpg?imageView2/2/w/0/h/0/q/85/format/webp', 
                        hotel: 'Empress Hotel 4*',
                        meals: 'æ—©/åˆ/æ™š',
                        isOpen: false 
                    },
                    { 
                        day: 9, 
                        title: 'è¥¿å®‰', 
                        transport: 'å·´å£«', 
                        content: 'å‚è§‚è¢«åˆ—ä¸ºUNESCOä¸–ç•Œé—äº§çš„ç§¦å§‹çš‡å…µé©¬ä¿‘ã€‚æ¼«æ­¥å›æ°‘è¡—ï¼Œå¹¶å‚è§‚ç‰å™¨é›•åˆ»å·¥åŠã€‚', 
                        image: 'https://c.files.bbci.co.uk/AE9C/production/_96000744_2.jpg', 
                        hotel: 'Empress Hotel 4*',
                        meals: 'æ—©/åˆ/æ™š',
                        isOpen: false 
                    },
                    { 
                        day: 10, 
                        title: 'è¥¿å®‰ ğŸš† å¹³é¥', 
                        transport: 'é«˜é“', 
                        content: 'æ¸¸è§ˆå¤§é›å¡”ï¼ˆ7ä¸–çºªå»ºç­‘æ°ä½œï¼‰ã€‚æ¬£èµä¸­å›½ä¼ ç»Ÿä¹¦æ³•æ¼”ç¤ºã€‚éšåä¹˜åé«˜é“ï¼ˆäºŒç­‰åº§ï¼‰å‰å¾€å¹³é¥å¤åŸã€‚', 
                        image: 'https://p2.img.cctvpic.com/photoworkspace/2022/04/13/2022041316100824688.jpg', 
                        hotel: 'Pingyao Hotel (å¤åŸå®¢æ ˆ)',
                        meals: 'æ—©/åˆ/æ™š',
                        isOpen: false 
                    },
                    { 
                        day: 11, 
                        title: 'å¹³é¥ ğŸš† å¤§åŒ', 
                        transport: 'é«˜é“', 
                        content: 'æ¼«æ­¥è¢«åˆ—ä¸ºUNESCOé—äº§çš„å¹³é¥å¤åŸï¼Œæ¢ç´¢å…¶å»ºäº1370å¹´çš„å®ä¼Ÿå¤åŸå¢™ã€‚éšåä¹˜åé«˜é“ï¼ˆäºŒç­‰åº§ï¼‰å‰å¾€å¤§åŒã€‚', 
                        image: 'https://www.qstheory.cn/laigao/ycjx/2022-07/27/1128866887_16588864859551n.jpg', 
                        hotel: 'Grand Hotel 4*',
                        meals: 'æ—©/åˆ/æ™š',
                        isOpen: false 
                    },
                    { 
                        day: 12, 
                        title: 'å¤§åŒ', 
                        transport: 'å·´å£«', 
                        content: 'å‚è§‚æ‚¬ç©ºå¯ºï¼ˆXuankongï¼‰ï¼Œè¿™åº§å»ºäº6ä¸–çºªçš„å¯ºåº™å¥‡è¿¹èˆ¬åœ°æ‚¬æŒ‚åœ¨å³­å£ä¹‹ä¸Šã€‚éšåæ¸¸è§ˆäº‘å†ˆçŸ³çªŸï¼ˆ5ä¸–çºªä½›æ•™è‰ºæœ¯ç‘°å®ï¼Œæ‹¥æœ‰51,000å°Šé€ åƒï¼‰ã€‚', 
                        image: 'https://www.ourchinastory.com/images/cover/snapshot/2022/02/horizontal/%E7%95%B6%E4%BB%A3%E4%B8%AD%E5%9C%8B-%E4%B8%AD%E5%9C%8B%E6%97%85%E9%81%8A-%E4%B8%AD%E5%9C%8B%E6%96%87%E5%8C%96-%E6%81%86%E5%B1%B1%E6%87%B8%E7%A9%BA%E5%AF%BA-cover_x2.jpg', 
                        hotel: 'Grand Hotel 4*',
                        meals: 'æ—©/åˆ/æ™š',
                        isOpen: false 
                    },
                    { 
                        day: 13, 
                        title: 'å¤§åŒ ğŸš† åŒ—äº¬', 
                        transport: 'é«˜é“/å·´å£«', 
                        content: 'ä¹˜åé«˜é“å‰å¾€åŒ—äº¬ã€‚æ¸¸è§ˆä¸¾ä¸–é—»åçš„ä¸‡é‡Œé•¿åŸï¼ˆå±…åº¸å…³æ®µï¼‰ã€‚å¤–è§‚2008å¥¥è¿åœºé¦†ï¼šé¸Ÿå·¢ä¸æ°´ç«‹æ–¹ã€‚', 
                        image: 'https://img.peapix.com/9fcccb61b21f45c6baf66428a6a0609a_1280.jpg', 
                        hotel: 'Beijing Guantong Jianhui Hotel 4*',
                        meals: 'æ—©/åˆ/æ™š',
                        isOpen: false 
                    },
                    { 
                        day: 14, 
                        title: 'åŒ—äº¬', 
                        transport: 'å·´å£«', 
                        content: 'æ¸¸è§ˆå¤©å®‰é—¨å¹¿åœºã€‚å‚è§‚æ˜æ¸…ä¸¤ä»£çš‡å®«â€”â€”æ•…å®«åšç‰©é™¢ï¼ˆç´«ç¦åŸï¼‰ã€‚æ¢è®¿å¤ä»£çš‡å¸ç¥­å¤©ä¹‹æ‰€â€”â€”å¤©å›ã€‚å‚è§‚æ·¡æ°´çç åº—ã€‚æ™šä¸Šæ¬£èµåŒ—äº¬æ‚æŠ€è¡¨æ¼”ã€‚', 
                        image: 'https://orientalvoguehotel.com/wp-content/uploads/2025/07/The-Forbidden-City-1200.jpg', 
                        hotel: 'Beijing Guantong Jianhui Hotel 4*',
                        meals: 'æ—©/åˆ/æ™š',
                        isOpen: false 
                    },
                    { 
                        day: 15, 
                        title: 'åŒ—äº¬ âœˆï¸ å·´é»', 
                        transport: 'é£æœº', 
                        content: 'æ¸¸è§ˆçš‡å®¶å›­æ—é¢å’Œå›­ï¼Œæ³›èˆŸæ˜†æ˜æ¹–ï¼ˆè§†å­£èŠ‚è€Œå®šï¼‰ã€‚ä¹˜åäººåŠ›ä¸‰è½®è½¦æ¸¸è§ˆè€åŒ—äº¬èƒ¡åŒã€‚æ™šé¤äº«ç”¨æ­£å®—åŒ—äº¬çƒ¤é¸­ã€‚é€å¾€æœºåœºï¼Œé£å›å·´é»ã€‚', 
                        image: 'https://p2.itc.cn/q_70/images03/20221009/fc78dd8e191546b8a499e3de4986d5c3.jpeg', 
                        hotel: 'é£æœºä¸Š',
                        meals: 'æ—©/åˆ/æ™š',
                        isOpen: false 
                    },
                    { 
                        day: 16, 
                        title: 'æŠµè¾¾å·´é»', 
                        transport: 'æŠµè¾¾', 
                        content: 'æŠµè¾¾å·´é»ï¼Œç»“æŸéš¾å¿˜çš„ä¸­å›½çš‡æœä¹‹æ—…ã€‚', 
                        image: 'https://static.wixstatic.com/media/dce6b4_29a685e1220e492db8c3a9fbd4e66a65~mv2.jpg/v1/fill/w_568,h_390,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/dce6b4_29a685e1220e492db8c3a9fbd4e66a65~mv2.jpg', 
                        hotel: 'æ¸©æš–çš„å®¶',
                        meals: 'æ—©é¤',
                        isOpen: true 
                    }
                ]
            });

            // Calculate Price
            const calculatedPrice = computed(() => {
                if (!formData.date || !formData.passengers) return 0;
                const dateObj = tour.dates.find(d => d.start === formData.date);
                if (!dateObj) return 0;
                
                const pricePerPerson = parseInt(dateObj.price.replace(/\D/g, ''));
                const singleSupplement = parseInt(tour.singleSupplement.replace(/\D/g, ''));

                let total = pricePerPerson * formData.passengers;
                if (formData.passengers % 2 !== 0) {
                    total += singleSupplement;
                }
                return total;
            });

            const hasSingleSupplement = computed(() => {
                return formData.passengers % 2 !== 0;
            });

            const handleBookingScroll = (date = '') => {
                if (date) {
                    formData.date = date;
                }
                const element = document.getElementById('contact');
                if (element) {
                    const offset = 180;
                    const bodyRect = document.body.getBoundingClientRect().top;
                    const elementRect = element.getBoundingClientRect().top;
                    const elementPosition = elementRect - bodyRect;
                    const offsetPosition = elementPosition - offset;
                    window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
                    
                    formHighlight.value = true;
                    setTimeout(() => {
                        formHighlight.value = false;
                    }, 3000);
                }
            };

            const handleFormSubmit = () => {
                attemptedSubmit.value = true;
                const hasEmpty = !formData.name || !formData.phone || !formData.email || !formData.date || !formData.passengers;

                if (hasEmpty || phoneError.value) {
                    nextTick(() => {
                        const firstError = document.querySelector('.input-error');
                        if (firstError) {
                            firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }
                    });
                    return;
                }
                setTimeout(() => {
                    isSubmitted.value = true;
                }, 500);
            };

            const resetForm = () => {
                isSubmitted.value = false;
                attemptedSubmit.value = false;
                formData.date = '';
                formData.passengers = 2;
                formData.remarks = '';
            };

            // Toggle Logic
            const isAllExpanded = ref(false);
            const toggleDay = (index) => {
                tour.daysData[index].isOpen = !tour.daysData[index].isOpen;
            };
            const toggleAllDays = () => {
                isAllExpanded.value = !isAllExpanded.value;
                tour.daysData.forEach(day => {
                    day.isOpen = isAllExpanded.value;
                });
            };

            onMounted(() => {
                setInterval(nextSlide, 5000);
                window.addEventListener('scroll', () => {
                    const scrollPosition = window.scrollY + 250;
                    subMenu.forEach(section => {
                        const element = document.getElementById(section.id);
                        if (element && element.offsetTop <= scrollPosition) {
                            activeSection.value = section.id;
                        }
                    });
                });
            });

            return {
                isMobileMenuOpen, isDestDropdownOpen, isWechatQR, isFacebookQR,
                navLinks, subMenu, activeSection, 
                heroImages, currentHeroIndex, nextSlide, prevSlide,
                tour, 
                toggleDay, toggleAllDays, isAllExpanded,
                formData, formHighlight, handleBookingScroll, handleFormSubmit, 
                phoneError, attemptedSubmit, isSubmitted, resetForm, calculatedPrice, hasSingleSupplement
            };
        }
    }).mount('#app');
</script>
</body>
</html>